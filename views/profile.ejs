<!-- views/profile.ejs -->

<h1><%= user.username %>'s profile page</h1>

<form action="/profile" method="POST" id="update-form">
  <label for="email">Email:</label>
  <input type="text" id="email" name="email" value="<%= user.email %>" required>

  <label for="phone">Phone:</label>
  <input type="text" id="phone" name="phone" value="<%= user.phone %>" required>

  <label for="address">Address:</label>
  <input type="text" id="address" name="address" value="<%= user.address %>" required>

  <button type="submit" class="update-button">Update Profile</button>
</form>

<form action="/profile/delete" method="POST" id="delete-form">
  <button type="button" onclick="confirmDelete()" class="delete-button">Delete Profile</button>
</form>

<script>
  function confirmDelete() {
    if (confirm('Are you sure you want to delete your profile?')) {
      document.getElementById('delete-form').submit();
    }
  }
</script>